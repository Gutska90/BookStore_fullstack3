<div class="container">
  <div class="form-header">
    <h2>{{ isEditMode ? '✏️ Editar Libro' : '➕ Agregar Nuevo Libro' }}</h2>
    <a routerLink="/" class="btn btn-secondary">← Volver</a>
  </div>

  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>

  <form (ngSubmit)="onSubmit()" class="book-form">
    <div class="form-group">
      <label for="titulo">Título *</label>
      <input
        type="text"
        id="titulo"
        [(ngModel)]="book.titulo"
        name="titulo"
        class="form-control"
        placeholder="Ej: Cien años de soledad"
        required
      />
    </div>

    <div class="form-group">
      <label for="autor">Autor *</label>
      <input
        type="text"
        id="autor"
        [(ngModel)]="book.autor"
        name="autor"
        class="form-control"
        placeholder="Ej: Gabriel García Márquez"
        required
      />
    </div>

    <div class="form-group">
      <label for="anioPublicacion">Año de Publicación *</label>
      <input
        type="number"
        id="anioPublicacion"
        [(ngModel)]="book.anioPublicacion"
        name="anioPublicacion"
        class="form-control"
        placeholder="Ej: 1967"
        min="1000"
        max="2025"
        required
      />
    </div>

    <div class="form-group">
      <label for="genero">Género *</label>
      <input
        type="text"
        id="genero"
        [(ngModel)]="book.genero"
        name="genero"
        class="form-control"
        placeholder="Ej: Realismo mágico"
        required
      />
    </div>

    <div class="form-actions">
      <button type="submit" class="btn btn-primary" [disabled]="loading">
        {{ loading ? 'Guardando...' : (isEditMode ? 'Actualizar' : 'Crear') }}
      </button>
      <button type="button" class="btn btn-secondary" (click)="cancel()" [disabled]="loading">
        Cancelar
      </button>
    </div>
  </form>
</div>

